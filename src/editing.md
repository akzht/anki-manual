# 新增/編輯 [Adding/Editing<span class="original-link">（原文）</span>](https://docs.ankiweb.net/editing.html)

<!-- toc -->

## 新增卡片和筆記

回顧[Anki基礎](getting-started.md)，我們建立的不是卡片，而是「筆記」。Anki會自動建立卡片。要新增筆記，請按一下[主視窗](studying.md#牌組-decks)中的「**新增**」按鈕。

![新增畫面](media/add_screen.png)

視窗左上方顯示當前的「[筆記類型](getting-started.md#筆記類型)」。如果不是「基本型」，那可能是你下載了共享牌組，因而加入了其他筆記類型。以下說明以「基本型」為準。

視窗右上方顯示卡片將被放入的[牌組](getting-started.md#牌組)。要將卡片放入新牌組，請按一下牌組名稱按鈕，然後選擇「**新增**」。

筆記類型下方有一些按鈕，還有一個寫著「正面」和「背面」的區域。「正面」和「背面」是筆記的「[欄位](getting-started.md#筆記與欄位)」，你可以使用上方的「欄位...」按鈕來新增、移除或重新命名欄位。

欄位下方還有一個叫做「**標籤**」的區域。使用標籤可方便整理、尋找筆記，如果不需要標籤則可以留空。多個標籤以半形空格分隔。如果標籤列寫著

    vocab check_with_tutor

則加入的筆記會有「vocab」和「check_with_tutor」兩個標籤。

在「正面」和「背面」中輸入文字後，按一下「新增」按鈕或 <kbd>Ctrl</kbd>+<kbd>Enter</kbd>（Mac：<kbd>Command</kbd>+<kbd>Enter</kbd>）來將筆記加入你的集合中。同時，卡片將被建立並放入你選取的牌組。若要編輯剛加入的卡片，請按一下「歷程記錄」按鈕以在[瀏覽器](browsing.md)中檢視剛加入的卡片。

請參閱〈[編輯功能](#編輯功能-editing-features)〉章節來進一步了解筆記類型與欄位區域之間的按鈕。

### 檢查重複

Anki會檢查第一個欄位是否唯一，如果有兩則筆記的「正面」欄位都寫著「apple」，則會提示重複。重複項目的檢查範圍是當前的筆記類型，因此若你在學習的兩種語言中恰好有兩個字的拼寫相同，你可以為兩種語言分別建立一個筆記類型，這樣「正面」欄位相同也不會提示重複。

為保證執行速度，Anki不會自動檢查其他欄位中的重複項目，你可以手動定期執行瀏覽器中的「尋找重複項目」功能。

### 高效學習

複習方法因人而異，但最好還是先了解一些基本的概念。建議參閱SuperMemo上的[這篇文章](https://super-memory.com/articles/20rules.htm)。特別是這兩點：

- **保持簡單**：簡短的卡片更易於複習。內容過於充實最後可能反而難以複習。

- **懂了再記**：如果你在學習語言，請儘量不要直接背一大張單字表。你需要看到單字在具體語境中的實際應用才能真正達到理解。就好比學寫程式如果你要直接背下`print()`、`if: ... else:`這樣的程式碼，最後只會吃力不討好；但如果你已經學到這些程式碼的用途，再背起來將事半功倍。

## 新增筆記類型

雖然基本型足以應付一面一字這種較為簡單的卡片，但若要在正面或背面顯示多個知識點，你應該把這些內容分為多個欄位。

你可能會想，「如果我只需要一張卡片，為甚麼不能直接把音訊、圖片、提示和翻譯全部放到正面欄位中？」要這麼做也沒關係。不過這樣，所有的內容將被混在一起。你將無法依提示或翻譯來排序，也沒有辦法直接把所有音訊移到另外一面上，只能一則筆記一則筆記地複製貼上。先多分幾個欄位，未來修改卡片佈局時就不用大動干戈。

要建立新的筆記類型，請在Anki主視窗選取「工具」→「管理筆記類型」。然後按一下「新增」來新增筆記類型。在新的畫面中，你可以選取新筆記類型的基底。「新增：...」選項是Anki內建的筆記類型，「複製：...」選項則是集合內現有的筆記類型。比如你可以在新增「日文」筆記類型時直接複製已有的「英文」類型。

確定之後，你可以為新建立的類型命名。命名後，關閉筆記類型視窗，回到新增視窗。

## 自訂欄位

若要自訂欄位，請在新增/編輯筆記畫面或「管理筆記類型」視窗中按一下「欄位...」按鈕。

![Fields](media/fields.png)

使用相應按鈕來新增、移除或重新命名欄位。

若要更改此處及新增筆記畫面中的欄位順序，請按一下「調整順序」按鈕，並輸入數字序號。例如，要將欄位改為第一個欄位，則應輸入「1」。你也可以用滑鼠將欄位拖放到新的位置。

Anki預留了一些[特殊欄位](templates/fields.md#特殊欄位-special-fields)：「Tags」、「Type」、「Deck」、「Card」和「FrontSide」，請勿用於欄位命名，否則將無法正常運作。

底部的選項用於調整新增和編輯卡片時的欄位屬性。這些選項調整的**不是**學習時的卡片樣式，請參閱〈[模板](templates/intro.md)〉來進一步了解自訂卡片樣式。

- **編輯器字型**：調整編輯筆記時的字型和大小，可以用來縮小沒那麼重要的欄位，或是放大較難看清的部分。此處更動不會影響學習卡片時的樣式，若要自訂卡片樣式，請參閱《[模板](templates/intro.md)》。不過，如果你啟用了「輸入答案」功能，輸入框中的文字大小將使用這項設定。（請參閱〈[檢查答案](templates/fields.md#檢查答案-checking-your-answer)〉章節來進一步了解如何更改輸入答案時的字型）。

- **依此欄位在瀏覽器中排序​**：設定瀏覽器中的排序欄位。一個筆記類型只能設定一個排序欄位。

- **反轉文字方向為由右至左 (RTL)**：用於阿拉伯語、希伯來語等從右向左顯示文字的語言。這項設定目前僅在編輯時生效；要在學習時也能正確顯示卡片，請調整[模板](templates/intro.md)。

- **預設使用HTML編輯器**：供編輯欄位時通常編輯HTML原始碼的使用者使用。

- **預設摺疊此欄位**：設定欄位預設狀態為摺疊或展開。摺疊/展開的動畫可以在[偏好設定](preferences.md)中停用。

- **若搜尋條件未指定欄位，則不搜尋此欄位的內容（較慢）**：可以在搜尋時排除某一欄位的內容，只有在[限制欄位](searching.md#限制欄位-limiting-to-a-field)（搜尋條件中特別指定了這個欄位）時才會出現在搜尋結果中。

新增欄位後，你需要另外將欄位加入卡片正面或背面模板。進一步了解[模板](templates/intro.md)。

## 更改牌組/筆記類型

新增筆記時，你可以按一下左上方的按鈕來更改筆記類型，或按一下右上方的按鈕來更改牌組。你可以在開啟的視窗中選取已有的牌組和筆記類型，或是新增牌組和管理筆記類型。

## 整理內容

### 恰當使用牌組

使用[牌組](getting-started.md#牌組)來分類不同的學習內容，你可以分別學習「英文」、「地理」等不同學科。但不建議分類過細，分成「有機化學第二章」、「食物字彙」這樣的牌組，原因是：

- 過於細分牌組會導致你熟知卡片出現的順序。使用版本較舊的排程器時，新卡片只會依牌組順序出現。此外，若你打算分別學習每一個牌組（而且一個一個牌組來按會很慢），則「第二章」中的所有卡片都會排到一起複習。這樣會有損你的記憶，因為同類的卡片可能會幫你想起答案，從而導致你沒有完全憑自身記憶來作答。因而，當你在考試時，因為沒有其他卡片來幫你，你可能會完全回想不出卡片的內容。

- 雖然版本較新的Anki中可能較少出現，但過多牌組可能會導致Anki執行速度緩慢。在2.1.50或較舊版本中，上千個牌組和層級還會導致牌組清單無法正常顯示。

### 使用標籤

比起細分牌組，更好的辦法是使用標籤或欄位來分類內容。標籤可以幫你更精準地搜尋，並保持集合井然有序。根據個人需求，標籤和旗標有多種使用方法；建議在開始分類之前先規劃好，這樣將更容易找出最適合你的用法。

你可以給一則筆記加上多個標籤，而一張卡片只能放在一個牌組中。在大多數情況下，標籤可以更好地進行分類整理。[跟牌組一樣](getting-started.md#牌組)，你也可以分層級建立子標籤。

舉例來說，與其建立「英文::食物動詞」牌組，你不如把卡片全都放入「英文」牌組，然後為筆記加上「食物」和「動詞」標籤。得益於筆記的多個標籤，你可以分別[搜尋](searching.md#標籤牌組卡片和筆記-tags-decks-cards-and-notes)所有動詞、所有食物字彙、所有與食物有關的動詞等。

你可以在編輯視窗和[瀏覽器](browsing.md)中為筆記加上標籤，在瀏覽器中還可以新增、刪除、重新命名或整理標籤。請注意，標籤是套用於[筆記](getting-started.md#筆記與欄位)上，因此當你為一張卡片加上標籤時，標籤也會加入關聯卡片。若僅需為一張卡片加上標籤，而不影響同一則筆記的其他卡片，請選用旗標。

### 使用旗標

旗標跟標籤類似，但旗標會在學習時出現在畫面右上方。旗標也可以作為搜尋條件，在瀏覽器中可以重新命名旗標，篩選牌組可以限定為旗標卡片。與標籤不同，一張卡片只能有一個旗標。另外，旗標套用於[卡片](getting-started.md#卡片)自身，因此不會影響關聯卡片。

你可以在複習畫面中為卡片加上/移除旗標（Windows: <kbd>CTRL</kbd> + <kbd>1-7</kbd>，Mac: <kbd>CMD</kbd> + <kbd>1-7</kbd>），或在[瀏覽器](browsing.md)中編輯。

### 「Marked」標籤

「marked」是一個特殊標籤。你可以透過複習畫面和瀏覽器中的標記選項來加上/移除「marked」標籤。標記了筆記後，複習時卡片上會顯示一顆星，且卡片在瀏覽器中會顯示為不同顏色。

注意：因顧及新舊版本間的相容性，Anki仍保留「標記」功能。現建議使用[旗標](editing.md#使用旗標)。

### 使用欄位

你還可以新增一些專門用於分類的欄位，比如「書目」、「頁碼」等。Anki支援搜尋特定欄位中的內容，所以當你需要英文第一冊第63頁的卡片時，搜尋`"書目:英文 第一冊" 頁碼:63`就能找到這些卡片。

### 自訂學習和篩選牌組

平常學習時，卡片應儘量集於一處，以維持最佳記憶效果。但在考前需要挑重點來複習時，你可以透過[自訂學習和篩選牌組](filtered-decks.md)功能來建立臨時牌組。經常需要單獨學習的內容建議單獨放入普通牌組；偶爾需要單獨學習的內容（如考前需複習或積壓的卡片）則建議依實際情況，透過標籤、旗標、標記或欄位等搜尋條件來建立篩選牌組。

## 編輯功能

[新增筆記](editing.md)、複習時[編輯筆記](studying.md#編輯與更多-editing-and-more)時，以及[瀏覽器](browsing.md)中會顯示編輯器。

![編輯器圖示](media/editor_icons.png)

使用左上方的兩個按鈕來打開[欄位](editing.md#自訂欄位-customizing-fields)和[卡片](templates/intro.md)視窗。

右邊是格式按鈕。粗體、斜體和底線用法與一般文書處理軟體一樣。緊接在後的是上標和下標，可用於化學符號H<sub>2</sub>O或簡單的數學方程式x<sup>2</sup>。後面兩個按鈕可讓你更改文字顏色。

按一下橡皮擦按鈕將清除所選文字的所有格式——包括顏色、粗斜體等。後面3個按鈕用於建立清單、調整文字對齊和增加/減少縮排。

按一下迴紋針按鈕後，你可以從電腦硬碟中選取音訊、圖片和影片來加入筆記。你也可以直接複製媒體檔（如在瀏覽器中右鍵選擇「複製影像」），然後在需要的欄位貼上。進一步了解[媒體檔](media.md)。

按一下麥克風圖示將使用電腦麥克風錄製音訊，錄製結束後音檔將被加入筆記。

按一下「Fx」按鈕可以快速新增MathJax或 [LaTeX](math.md) 方程式到筆記中。

使用克漏字筆記類型時，還會顯示「\[…​\]」按鈕。
![克漏字圖示](media/cloze_icons.png)

使用`</>`按鈕可以編輯欄位的HTML原始碼。
![HTML圖示](media/html_icon.png)

Anki 2.1.45+ 版本支援在編輯畫面調整欄位凍結。按一下欄位右上方的釘選圖示後，每次新增筆記後Anki都不會清除這個欄位中的內容。如果你準備新增的多則筆記中有一個欄位內容相同，則可將這個欄位凍結。較舊的Anki版本中需要在欄位畫面中設定切換欄位凍結。

![釘選圖示](media/Pin_icon.png)

大多數按鈕都有快速鍵，將滑鼠指標懸停在按鈕上即可檢視其快速鍵。

根據預設，在Anki中貼上文字時會保留大部分格式。若在貼上的同時按住 <kbd>Shift</kbd> 鍵，則大部分格式都會被清除。要預設清除格式，請調整偏好設定中的「自動清除文字格式（按住Shift鍵來保留格式）」選項。

## 克漏字空格

「克漏字空格」可以用來隱藏句子中的字詞。例如：

    Canberra was founded in 1913.

你可以把這句話中的「1913」設為空格：

    Canberra was founded in [...].

要進一步了解使用克漏字的優點，請參閱[這篇文章](https://super-memory.com/articles/20rules.htm)中的第5條原則。

要在Anki中建立克漏字，請選取「克漏字」筆記類型，並在「文字」欄位中輸入文字。選取要隱藏的文字，然後按一下「\[…​\]」按鈕，Anki會取代所選文字：

    Canberra was founded in {{c1::1913}}.

「c1」表示空格1。你可以建立多個空格——選取「Canberra」，然後按一下「\[…​\]」：

    {{c2::Canberra}} was founded in {{c1::1913}}.

此時，新增筆記後，Anki會建立兩張卡片。第一張卡片的問題面如下：

    Canberra was founded in [...].

而答案面將會顯示完整的句子。第2張卡片的問題面如下：

    [...] was founded in 1913.

你還可以將多個空格合併為一張卡片。在上述範例中，如果你把「c2」改為「c1」，則Anki只會建立一張卡片，問題面上「Canberra」和「1913」都會被隱藏。在建立空格時，按住 <kbd>Alt</kbd> 鍵（Mac：<kbd>Option</kbd> 鍵）則Anki會自動使用相同的空格序號。

你可以在任意位置建立克漏字空格，例如你可以在「Canberra」一字中只選取「anberra」建立空格，這樣在卡片問題面上會顯示為「C\[…​\]」，留下首字母作為提示。

另外，你也可以加入不在原文中的提示，比如：

    Canberra::city was founded in 1913

選取「Canberra::市名」，然後按一下「\[…​\]」建立空格，兩個半形逗號「::」後面的文字將成為提示：

    {{c1::Canberra::city}} was founded in 1913

在複習時，卡片將顯示為：

    [city] was founded in 1913

若要了解如何在克漏字卡片中輸入答案，請參閱〈[檢查答案](templates/fields.md#檢查答案-checking-your-answer)〉章節。

在2.1.56或以上版本中，你可以在克漏字空格中再內嵌一個空格。比如：

    {{c1::Canberra was {{c2::founded}}}} in 1913

內嵌空格必須完全包含於外部的空格，也就是說不能像這樣只重疊一部分：

    [...] founded in 1913 -> Canberra was
    Canberra [...] in 1913 -> was founded

「was」無法同時存在於兩個空格中。

目前Anki內嵌層級數受限。在Anki 24.11中，可以內嵌3個層級。在其他版本中約可內嵌8個層級，但層級越多，執行速度可能會越慢。若要使用此功能，請勿內嵌過多層級。

在2.1.56之前的版本中，要建立有文字重疊的克漏字，你需要額外新增一個文字欄位，把欄位加入[模板](templates/intro.md)，然後在兩個文字欄位中都貼上原文：

    「文字1」欄位：{{c1::Canberra was founded}} in 1913

    「文字2」欄位：{{c2::Canberra}} was founded in 1913

預設的克漏字筆記類型還有一個「背面額外內容」欄位，這個欄位只會在卡片答案面出現，可以用來另外補充資訊。

克漏字是一種特殊的筆記類型，無法以普通的筆記類型為基底來建立。如需自訂克漏字類型，請確保複製的基底是克漏字類型。你可以自訂克漏字筆記類型的卡片樣式，但不能新增卡片類型（模板）。

## 影像遮擋

Anki 23.10或以上版本支援「影像遮擋」卡片，無須另外安裝附加元件。「影像遮擋」類似「克漏字」，但隱藏的不是文字，而是圖片中的一部分。

![影像遮擋](media/io.jpg)

### 加入圖片

要新增影像遮擋卡片，請在「新增」畫面上按一下筆記類型，並選擇內建的「影像遮擋」筆記類型。然後按一下「選取影像」來選取硬碟上的圖檔，或者按一下「貼上剪切版影像」來貼上你複製的圖片。

### 新增遮擋卡

載入影像後，影像遮擋編輯器會自動打開。你可以使用左邊的按鈕來選定任意區域，可選3種形狀：

- 矩形
- 橢圓形
- 多邊形

筆記可選兩種影像遮擋模式：

- **全部遮住，猜測一個**：隱藏所有區域，答案面只會揭露當前學習的區域。
- **遮住一個，猜測一個**：只會隱藏/揭露當前學習的區域，其他區域不會被隱藏。

![影像遮擋模式](media/io_modes.jpg)

<!-- fields & tags are not intuitive to find in editor -->
預設的「影像遮擋」筆記類型也有普通的欄位：
「**頁首**」（顯示在卡片正面/背面的圖片上方）、「**背面額外內容**」（顯示在卡片背面的圖片下方）及「**註解**」（不會顯示在卡片上）。要編輯這些欄位，請在影像遮擋編輯器中按一下「**切換遮罩編輯器**」按鈕。切換後還可以檢視、編輯筆記**標籤**。

編輯完成後，按一下下方的「新增」按鈕。Anki將為你加上的每個/組形狀都建立一張卡片。

## 編輯遮擋筆記

你可以在複習時按一下「編輯」或直接在瀏覽器中來編輯遮擋筆記。可用的編輯工具：

- 選取：選取一或多個形狀以移動、調整大小、刪除或群組/解散群組。
- 縮放：使用滑鼠滾輪來移動、縮放影像。
- 形狀（矩形/橢圓形/多邊形）：新增形狀（卡片）。
- 文字：加入文字框。文字框可被移動、調整大小或刪除。新增文字框不會建立卡片。
- 復原/重做
- 縮小/放大/重置縮放
- 切換半透明：可在編輯時檢視被隱藏的區域。
- 刪除：刪除選取的形狀和文字框。跟刪除克漏字空格一樣，刪除形狀後相應的卡片不會被自動刪除，請手動執行「空白卡片」工具。
- 複製
- 群組：將所選形狀組成群組，可以同時移動、調整大小或刪除多個形狀。注意，多個形狀組成群組後只會建立一張卡片。
- 取消群組：將所選群組解散為獨立的形狀。
- 對齊：用來對齊形狀或文字框。

複習遮擋卡時，圖片下方會顯示一個「切換遮罩」按鈕。學習使用「全部遮住，猜測一個」模式的卡片時可按下這個按鈕來暫時揭露所有區域。

## 輸入非拉丁字元和變音符號

現在的電腦都支援使用多種方式來輸入非拉丁字元和變音符號，建議使用目標語言的鍵盤佈局。

中文、日文、泰文等使用非拉丁文字的語言都各自使用不同的鍵盤佈局。

有些歐洲語言使用變音符號，所以也有不同的佈局，但一般都可使用通用的國際鍵盤佈局來輸入。使用這個佈局時，只需先按下變音符號，再按下字母就能打出帶變音符號的字元——例如，先按 <kbd>´</kbd>，再按 <kbd>a</kbd> 就能打出「á」。

### 新增國際鍵盤佈局
要新增國際鍵盤佈局，請在系統設定中找到「United States-International」佈局：

Windows:
<https://support.microsoft.com/zh-tw/windows/管理-windows-中的語言和鍵盤-輸入版面配置設定-12a10cb4-8626-9b77-0ccb-5013e0c7c7a2>

Mac:
<https://support.apple.com/zh-tw/guide/mac-help/mchlp1406/mac>

Linux:
- Gnome: <https://help.gnome.org/users/gnome-help/stable/tips-specialchars.html.en>
- KDE Plasma: <https://userbase.kde.org/Tutorials/ComposeKey>

### 新增其他鍵盤佈局
請參照上文，在系統設定中尋找需要的鍵盤佈局。

在Linux上建議參閱各發行版wiki，如 [Arch](https://wiki.archlinux.org/title/Input_method) 和 [Debian](https://wiki.debian.org/Keyboard#Modern_strategy)。

### 從右至左書寫（RTL）語言
如果你在學習從右至左書寫的語言，還需要考慮其他問題。請造訪[這個頁面](http://dotancohen.com/howto/rtl_right_to_left.html)來進一步了解。

### 功能限制
建置Anki使用的工具與一些輸入方式可能衝突，比如在macOS上按住按鍵來選取變音符號、在Windows上按住 <kbd>Alt</kbd> 鍵然後輸入數字等方式。

## Unicode正規化

`á`這樣的文字在電腦中有多種表示方法，比如使用一段程式碼來代表一個字母或是在一個普通的`a`後面再附上一段程式碼來代表字母上的變音符號。當你從多個來源蒐集內容，或是使用不同電腦時，這會帶來一些問題，比如搜尋條件可能看起來是同一個字元，但卻找不到結果。

因此，Anki會將文字統一。大部分使用者應對這一過程無感，不過在少數情況下部分字元可能會在正規化時被轉換成其他字元。

若要保留多種儲存字元的方式，請在[除錯控制台](./misc.md)執行以下指令來停用正規化：

```python
mw.col.conf["normalize_note_text"] = False
```

指令執行成功後，新增的內容都不會被正規化。但未來若更換作業系統，或將不同來源蒐集到Anki貼上，則可能無法直接搜尋到結果。
